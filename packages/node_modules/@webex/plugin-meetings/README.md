# @webex/plugin-meetings

[![standard-readme compliant](https://img.shields.io/badge/readme%20style-standard-brightgreen.svg?style=flat-square)](https://github.com/RichardLitt/standard-readme)

> Logging plugin for the Cisco Webex JS SDK.

- [Install](#install)
- [Usage](#usage)
- [Development](#development)
- [Contribute](#contribute)
- [Maintainers](#maintainers)
- [License](#license)

# WARNING: This plugin is currently under active development, is not stable, and breaking changes can and will happen!

If you are looking to make calls through webex teams, `plugin-phone` is the package you are looking for...

## Install

```bash
npm install --save @webex/plugin-meetings
```

## Usage

This is a plugin for the Cisco Webex JS SDK . Please see our [developer portal](https://developer.webex.com/sdks-and-widgets.html) and the [API docs](https://webex.github.io/spark-js-sdk/api/) for full details.

Examples

#### Joining a basic meeting

```javascript
// TODO: list out the specific packages needed to just pull in plugin meetings instead of the full
// ciscospark package?
import ciscospark as spark from 'ciscospark';

let destination = `obiwan@example.com`
let activeMeeting;

function setMedia(media){
  if (media.type === 'local') {
    document.getElementById('local-media').srcObject = media.stream;
  } else if (media.type === 'remote') {
    document.getElementById('remote-media').srcObject = media.stream;
  }
}

function handleAudioChange(audio){
  // perform some actions after audio has been muted/unmuted
}

function handleVideoChange(video) {
  // perform some action after video has been muted/unmuted
}

return spark.meetings
  .create(destination)
  .then((meeting) => {
    activeMeeting = meeting;

    activeMeeting.on('media:ready', () => setMedia));
    activeMeeting.on('media:audioChanged', handleAudioChange);
    activeMeeting.on('media:videoChanged', handleVideoChange);

    activeMeeting.join();
  });
```

## Events

There are several events submitted by this package that you can subscribe to.
| Event Name | Description |
|---|---|
| `media:ready` | Fired when remote or local media has been acquired |
| `media:audioChanged` | Fired whenever local audio streams are muted and unmuted |
| `media:videoChanged` | Fired whenever local video streams are muted and unmuted |
| `media:stopped` | Fired when remote or local media has been torn down |

## Development

To use `webpack-dev-server` to load this package, run `npm run samples:serve`.

Files placed in the `packages/node_modules/samples/browser-plugin-meetings` folder will be served statically.

Files in the `src` folder will be compiled, bundled, and served as a static asset at `bundle.js` inside that directory.

## Maintainers

This package is maintained by [Cisco Webex for Developers](https://developer.webex.com/).

## Contribute

Pull requests welcome. Please see [CONTRIBUTING.md](https://github.com/webex/spark-js-sdk/blob/master/CONTRIBUTING.md) for more details.

## License

Â© 2016-2018 Cisco and/or its affiliates. All Rights Reserved.
