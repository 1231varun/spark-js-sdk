import StatsCalculator from '../stats/calculator';

/**
 * simply adds up the properties from filtered stream data
 */
export default class StatsInterval {
  /**
   * @private
   * @param {Object} options
   */
  constructor(options = {previous: undefined, updated: undefined, interval: {}}) {
    this.previous = options.previous;
    this.updated = options.updated;
    this.interval = options.interval;
  }

  setPrevious(previous) {
    this.previous = previous;
  }

  setUpdated(updated) {
    this.updated = updated;
  }

  getPrevious() {
    return this.previous;
  }

  getUpdated() {
    return this.updated;
  }

  getInterval() {
    return this.interval;
  }

  calculateInterval() {
    this.interval = StatsCalculator.interval(this.getPrevious(), this.getUpdated());
  }

  updateInterval(updated) {
    this.setPrevious(this.updated);
    this.setUpdated(updated);
    this.calculateInterval();
    return this.getInterval();
  }
}
