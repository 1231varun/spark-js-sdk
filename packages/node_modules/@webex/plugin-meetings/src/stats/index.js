import uuid from 'uuid';

import {MEETINGS} from '../constants';
import MeetingStats from '../stats/stats';

/**
 * @class WebRTCStats
 */
export default class WebRTCStats {
  namespace = MEETINGS;

  /**
   *
   * @param {Object} attrs
   * @param {Object} options
   */
  constructor() {
    this.media = new MeetingStats();
    this.screen = new MeetingStats();
    this.id = undefined;
  }

  withId(id) {
    if (id) {
      this.setId(id);
      return this;
    }
    const guid = uuid.v4();
    this.setId(guid);
    return this;
  }

  build() {
    return this;
  }

  withMedia() {
    this.media = new MeetingStats();
    return this;
  }

  withScreen() {
    this.screen = new MeetingStats();
    return this;
  }

  setId(id) {
    this.id = id;
  }

  setMedia(media) {
    this.media = media;
  }

  setScreen(screen) {
    this.screen = screen;
  }

  getId() {
    return this.id;
  }

  getMedia() {
    return this.media;
  }

  getScreen() {
    return this.screen;
  }
}
