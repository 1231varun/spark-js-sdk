import ChildEmitter from 'events';

import LoggerConfig from '../logs/logger-config';
import LoggerProxy from '../logs/logger-proxy';

/**
 * Events
 * plugin-meetings local
 * Used to emit events internally between modules specific to an object
 */
export default class EventsScope extends ChildEmitter {
  emit(eventName, args) {
    let argString = '';

    try {
      argString = JSON.stringify(args);
    }
    catch (e) {
      // no op
    }
    LoggerProxy.logger.warn(`EventsScope->emit#${eventName}${LoggerConfig.verboseEvents ? ` -- ${argString}` : ''}`);
    super.emit(eventName, args);
  }
}
