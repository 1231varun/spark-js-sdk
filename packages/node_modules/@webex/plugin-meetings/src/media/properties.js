/* globals window, RTCSessionDescription */
import bowser from 'bowser';

import {
  MEETINGS,
  RTC_CONFIGURATION,
  RTC_CONFIGURATION_FIREFOX
} from '../constants';

/**
 * @class MediaProperties
 */
export default class MediaProperties {
  namespace = MEETINGS;

  /**
   * @param {Object} options -- optional to auto construct
   * @returns {MediaProperties}
   */
  constructor(options = {}) {
    this.peerConnection = new window.RTCPeerConnection(bowser.firefox ? RTC_CONFIGURATION_FIREFOX : RTC_CONFIGURATION);
    this.mediaDirection = options.mediaDirection;
    this.localStream = options.localStream;
    this.localShare = options.localShare;
    this.remoteStream = options.remoteStream;
    this.remoteShare = options.remoteShare;
  }

  setAll(mediaDirection, peerConnection, localStream, localShare, remoteStream, remoteShare) {
    this.setMediaDirection(mediaDirection);
    this.setMediaPeerConnection(peerConnection);
    this.setLocalStream(localStream);
    this.setLocalShare(localShare);
    this.setRemoteStream(remoteStream);
    this.setRemoteShare(remoteShare);
  }

  setMediaDirection(mediaDirection) {
    this.mediaDirection = mediaDirection;
  }

  setMediaPeerConnection(peerConnection) {
    this.peerConnection = peerConnection;
  }

  setLocalStream(localStream) {
    this.localStream = localStream;
  }

  setLocalShare(localShare) {
    this.localShare = localShare;
  }

  setRemoteStream(remoteStream) {
    this.remoteStream = remoteStream;
  }

  setRemoteShare(remoteShare) {
    this.remoteShare = remoteShare;
  }

  unsetPeerConnection() {
    this.peerConnection = null;

  }

  unsetLocalStream() {
    this.localStream = null;
  }

  unsetLocalShare() {
    this.localShare = null;
  }

  unsetRemoteStream() {
    this.remoteStream = null;
  }

  unsetRemoteShare() {
    this.remoteShare = null;
  }

  unsetLocalStreams() {
    this.unsetLocalStream();
    this.unsetLocalShare();
  }

  unsetRemoteStreams() {
    this.unsetRemoteStream();
    this.unsetRemoteShare();
  }

  unsetShareStreams() {
    this.unsetLocalShare();
    this.unsetRemoteShare();
  }

  unsetMediaStreams() {
    this.unsetLocalStream();
    this.unsetRemoteStream();
  }
}
