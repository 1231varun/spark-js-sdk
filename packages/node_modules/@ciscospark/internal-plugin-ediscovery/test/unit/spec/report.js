import Ediscovery from '@ciscospark/internal-plugin-ediscovery';
import MockSpark from '@ciscospark/test-helper-mock-spark';
import sinon from '@ciscospark/test-helper-sinon/src/index';
import {assert} from '@ciscospark/test-helper-chai';

// const getUser = require('../index').getUser;
// const response = require('./response');

describe('plugin-ediscovery', () => {
  let spark;
  const url = 'https://ediscovery-test.wbx2.com/ediscovery';

  beforeEach(() => {
    spark = new MockSpark({
      children: {
        ediscovery: Ediscovery
      }
    });
    spark.internal.device.getServiceUrl = sinon.stub().returns(Promise.resolve(url));
  });

  describe('report', () => {
    it('createReport', () => {
      spark.internal.ediscovery.createReport([], [], [], [], '')
        .then((res) => {
          assert.equal(200, res.statusCode);
        });
    });

    it('getReports', () => {
      spark.internal.ediscovery.getReports()
        .then((res) => {
          assert.equal(200, res.statusCode);
        });
    });
  });
});
