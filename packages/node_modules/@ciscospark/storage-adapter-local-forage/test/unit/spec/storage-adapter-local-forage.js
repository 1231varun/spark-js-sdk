/*!
 * Copyright (c) 2015-2017 Cisco Systems, Inc. See LICENSE file.
 */

import runAbstractStorageAdapterSpec from '@ciscospark/storage-adapter-spec';
import {skipInNode, webkitOnly} from '@ciscospark/test-helper-mocha';
import StorageAdapterLocalForage from '@ciscospark/storage-adapter-local-forage';
import {assert} from '@ciscospark/test-helper-chai';
import localforage from 'localforage';

skipInNode(describe)(`StorageAdapterLocalStorage`, () => {
  runAbstractStorageAdapterSpec(new StorageAdapterLocalForage(`test`));

  webkitOnly(it)(`uses WebSQL by default`, () => {
    assert.equal(localforage.driver(), localforage.WEBSQL);
  });
});
